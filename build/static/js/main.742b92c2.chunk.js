(this["webpackJsonpanusic-api"]=this["webpackJsonpanusic-api"]||[]).push([[0],{23:function(e,t,a){},41:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(2),i=a.n(s),c=a(17),l=a.n(c),o=(a(23),a(3)),r=a(4),d=a(6),m=a(5),h=a(8),j=a.n(h),u=(a(41),a(42),a(43),function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={mode:0},e}return Object(r.a)(a,[{key:"render",value:function(){var e=this,t=[];return this.props.anime&&this.props.anime.collections&&(t=this.props.anime.collections.filter((function(t){return e.collectionHasThemes(t,e.state.mode)})).map((function(t,a){return Object(n.jsxs)("div",{children:[Object(n.jsx)("h6",{children:t.name}),Object(n.jsx)("ul",{className:"list-group mb-2",children:t.themes.filter((function(t){return t.type===e.state.mode})).map((function(t,a){return Object(n.jsxs)("li",{className:"list-group-item",children:[Object(n.jsxs)("div",{children:[Object(n.jsxs)("span",{className:"badge badge-primary mr-1",children:[0===e.state.mode?"OP":"ED"," ",t.order]}),Object(n.jsxs)("span",{className:"badge badge-secondary mr-1",children:["V",t.version]}),Object(n.jsx)("b",{children:t.name}),!0===t.isNSFW?Object(n.jsx)("span",{className:"badge badge-danger ml-1 float-right",children:"NSFW"}):"",!0===t.hasSpoilers?Object(n.jsx)("span",{className:"badge badge-danger ml-1 float-right",children:"SPOILERS"}):""]}),Object(n.jsx)("ul",{className:"list-group mt-2",children:t.sources.map((function(e,t){return Object(n.jsxs)("li",{className:"list-group-item list-group-item-source",children:[Object(n.jsx)("a",{target:"_blank",href:e.link,children:"Video"}),Object(n.jsx)("audio",{controls:!0,children:Object(n.jsx)("source",{src:e.link,type:"audio/ogg"})})]},t)}))})]},a)}))})]},a)}))),Object(n.jsx)(s.Fragment,{children:Object(n.jsx)("div",{className:"modal "+(this.props.opened?"open":""),children:this.props.loading?Object(n.jsx)("div",{className:"spinner spinner-border text-light float-right",role:"status",children:Object(n.jsx)("span",{className:"visually-hidden"})}):Object(n.jsx)("div",{className:"modal-dialog modal-dialog-centered modal-dialog-scrollable",role:"document",children:Object(n.jsxs)("div",{className:"modal-content",children:[Object(n.jsxs)("div",{className:"modal-header",children:[Object(n.jsxs)("h5",{className:"modal-title",children:[Object(n.jsxs)("div",{className:"title",children:[this.props.anime.name,this.props.anime.year?Object(n.jsx)("span",{className:"badge badge-secondary float-right",children:this.props.anime.year}):""]}),Object(n.jsx)("p",{className:"alt",children:this.props.anime.altNames?this.props.anime.altNames.join(","):""})]}),Object(n.jsx)("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close",onClick:function(){return e.props.onAnimeClosed()},children:Object(n.jsx)("span",{"aria-hidden":"true",children:"\xd7"})})]}),Object(n.jsxs)("div",{className:"modal-body",children:[Object(n.jsxs)("ul",{className:"nav nav-tabs",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("a",{className:"nav-link "+(0===this.state.mode?"active":""),onClick:function(){return e.onModeToggle(0)},children:"Openings"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)("a",{className:"nav-link "+(1===this.state.mode?"active":""),onClick:function(){return e.onModeToggle(1)},children:"Endings"})})]}),Object(n.jsx)("div",{className:"tab",children:t})]}),Object(n.jsx)("div",{className:"modal-footer",children:Object(n.jsx)("a",{type:"button",className:"btn btn-primary",target:"_blank",href:"https://myanimelist.net/anime/".concat(this.props.anime.id),children:"Visit MAL Page"})})]})})})})}},{key:"onModeToggle",value:function(e){this.setState({mode:e})}},{key:"collectionHasThemes",value:function(e,t){return console.log({collection:e}),e.themes.some((function(e){return e.type===t}))}}]),a}(s.Component)),b=function(e){Object(d.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))).state={animeList:[],list:[],anime:{},infoShown:!1,loading:!1,infoLoading:!1},e.endPoint="https://anusic-api.herokuapp.com/api/v1",e}return Object(r.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),j.a.get("".concat(this.endPoint,"/anime")).then((function(t){e.setState({animeList:t.data,list:t.data,loading:!1})})).catch((function(){return e.setState({loading:!1})}))}},{key:"render",value:function(){var e=this;return Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsxs)("nav",{className:"navbar sticky-top navbar-light bg-light px-5",children:[Object(n.jsx)("a",{href:"/#",className:"navbar-brand",children:"Anusic React"}),Object(n.jsx)("div",{className:"form-inline",children:Object(n.jsx)("input",{className:"form-control mr-sm-2",type:"search",placeholder:"Search","aria-label":"Search",onChange:function(t){t.target.value.length>0?e.setState({list:e.state.animeList.filter((function(e){return e.name.toLowerCase().concat((e.altNames||[]).join(" ").toLowerCase()).concat((e.year||0).toString()).includes(t.target.value.toLowerCase().trim())}))}):e.setState({list:e.state.animeList})}})})]}),Object(n.jsxs)("main",{className:"p-5",children:[Object(n.jsxs)("div",{className:"alert alert-dark",role:"alert",children:[Object(n.jsx)("b",{children:this.state.list.length})," Anime fetched!",this.state.loading?Object(n.jsx)("div",{className:"spinner spinner-border float-right",role:"status",children:Object(n.jsx)("span",{className:"visually-hidden"})}):""]}),Object(n.jsx)("ul",{className:"list-group",children:this.state.list.map((function(t,a){return Object(n.jsxs)("a",{className:"list-group-item list-group-item-action",onClick:function(){return e.onAnimeClicked(t)},children:[Object(n.jsx)("span",{className:"name",children:t.name}),t.year?Object(n.jsx)("span",{className:"badge badge-secondary float-right",children:t.year}):"",t.altNames&&t.altNames.length>0?Object(n.jsx)("p",{className:"alt",children:t.altNames.join(",")}):""]},a)}))})]}),Object(n.jsx)(u,{opened:this.state.infoShown,anime:this.state.anime,loading:this.state.infoLoading,onAnimeClosed:this.onAnimeClosed.bind(this)})]})}},{key:"onAnimeClicked",value:function(e){var t=this;this.setState({infoShown:!0,infoLoading:!0}),j.a.get("".concat(this.endPoint,"/anime/").concat(e.id)).then((function(e){t.setState({infoShown:!0,infoLoading:!1,anime:e.data})})).catch((function(){return t.setState({infoShown:!1,infoLoading:!1})}))}},{key:"onAnimeClosed",value:function(){this.setState({infoShown:!1})}}]),a}(s.Component),p=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,45)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),s(e),i(e),c(e)}))};l.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(b,{})}),document.getElementById("root")),p()}},[[44,1,2]]]);
//# sourceMappingURL=main.742b92c2.chunk.js.map